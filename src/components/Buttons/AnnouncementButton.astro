---
// This is the frontmatter section where you can import other components or scripts if needed

import ButtonNotification from '~/components/Buttons/ButtonNotification.astro';

const { videoLink, text } = Astro.props as Props;
---

<button 
  class='AnnouncementButton' 
  onclick="modalOpenAnnouncement(); buttonNotificationOff();"
  data-notification="true"
>
  Announcements
  <div class="notificationWrapper">
    <ButtonNotification/>
  </div>
  
</button>

<style lang="scss">
  
  .AnnouncementButton {
      position: relative;
      border: 1px solid var(--custom-accent-1-50);
      border-radius: 0.5rem;
      background-color: transparent;
      cursor: pointer;
      font-size: 1rem;
      padding: 0.25em 0.5em;
      line-height: calc(1 / var(--theme-text-xs));
      &:hover{
        background-color: var(--custom-accent-2-10);
      }

      svg{
        position: relative;
        top: 4px;
      }

      .notificationWrapper{
        opacity: 0;
      }
      &[data-notification="true"]{
        .notificationWrapper{
          opacity: 1;
        }
      }
  }

</style>

<script type="text/javascript">
  function buttonNotificationOff(){
    event.currentTarget.setAttribute("data-notification","false");
  }

  function modalOpenAnnouncement(){
    
    //open announcement modal
    var targetElement = document.querySelector(".ModalWrapper[data-modal='announcement']");
    targetElement.classList.add("active");
  }
</script>